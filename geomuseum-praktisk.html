<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geomuseum Faxe praktisk</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
</head>

<body>
    <div class="container">

        <header>
            <a href="index.html">
                <div class="logo"><img src="img/logo.png" alt="logo"></div>
            </a>

            <div class="burger-button">
                <img src="img/burgermenu.png" alt="menu">
            </div>
            <nav id="menu" class="hide">
                <ul>
                    <li><a href="koldkrigsmuseum.html">KOLDKRIGSMUSEUM <br>STEVNSFORT</a></li>
                    <li><a href="stevnsklint.html">STEVNS KLINT</a></li>
                    <li><a href="geomuseum.html">GEOMUSEUM <br>FAXE</a></li>
                    <li><a href="aktuelt.html">AKTUELT</a></li>
                    <li><a href="om.html">OM OS</a></li>
                </ul>
            </nav>
            <div class="search-container sog_skjul">
                <form action="/action_page.php">
                    <input type="text" placeholder="Search.." name="search">
                </form>
                <div class="search_pic"><img src="img/search.png" alt=""></div>
            </div>

        </header>

        <main>
            <h1 class="overskrift"></h1>
            <div class="indhold">
            </div>
        </main>

        <template>
            <section class="indhold">
                <h2 class="overskrift accordion"></h2>
                <div class="tekst panel"></div>
            </section>
        </template>


        <footer>
            <div class="adresse_footer">
                <p class="overskrift_footer">ADRESSE</p>
                <p class="brodtekst_footer">Østsjællands Museum
                    Rådhusvej 2
                    4640 Faxe</p>

            </div>
            <div class="kontakt_footer">
                <p class="overskrift_footer">KONTAKT</p>
                <p class="brodtekst_footer">+45 56502806
                    Telefonen er åben mandag til fredag
                    fra kl. 9 til 15.</p>

            </div>
            <div class="some_footer">
                <p class="overskrift_footer">FØLG OS</p>
                <img src="img/icon_fb.png" alt="facebook">
                <img src="img/icon_instagram.png" alt="instagram">
                <img src="img/icon_tw.png" alt="twitter">
            </div>
            <div class="andet_footer">
                <p class="overskrift_footer">SPROG</p>
                <p class="overskrift_footer">PRESSE</p>
                <p class="overskrift_footer">FONDE OG SPONSORATER</p>
            </div>


        </footer>

        <script>
            document.addEventListener("DOMContentLoaded", sidenVises);

            let indhold;

            function sidenVises() {
                console.log("siden vises");
                // registrer klik på menuknap
                document.querySelector(".burger-button").addEventListener("click", toggleMenu);

                start();
                visMenuStreger();

            }
            function visMenuStreger() {
                document.querySelectorAll("#menu li").forEach(listepunkt => {
                    let border = `<div class="border"></div>`;
                    listepunkt.insertAdjacentHTML("beforeend",border);
                });
            }



            function toggleMenu() {
                console.log("Toggle menu");
                document.querySelector("#menu").classList.toggle("hide");

                let erSkjult = document.querySelector("#menu").classList.contains("hide");

                if (erSkjult == true) {
                    //menuen er skjult - ændr menuknap til lll
                    document.querySelector(".burger-button img").src = "img/burgermenu.png";
                } else {
                    //menuen er nu vist - ændr menuknap til X
                    document.querySelector(".burger-button img").src = "img/cancel.png";
                }
            }

            function start() {
                async function getJson() {
                    let url = "http://lauravillumsen.com/kea/07-cms/kalklandet/wp/wp-json/wp/v2/geomuseum_faxe"
                    let jsonData = await fetch(url);
                    indhold = await jsonData.json();
                    visIndhold();
                }

                function visIndhold() {
                    let dest = document.querySelector(".indhold");
                    let temp = document.querySelector("template");
                    indhold.forEach(indhold => {
                        let klon = temp.cloneNode(true).content;
                        klon.querySelector(".overskrift").innerHTML = indhold.title.rendered;
                        klon.querySelector(".tekst").innerHTML = indhold.content.rendered;
                        dest.appendChild(klon);
                    })
                    lavAccordion();
                }
                getJson();
            }

            function lavAccordion() {
                //accordion
                console.log("test");
                var acc = document.getElementsByClassName("accordion");
                var i;

                for (i = 0; i < acc.length; i++) {
                    acc[i].addEventListener("click", function() {
                        this.classList.toggle("active");
                        var panel = this.nextElementSibling;
                        if (panel.style.maxHeight) {
                            panel.style.maxHeight = null;
                        } else {
                            panel.style.maxHeight = panel.scrollHeight + "px";
                        }
                    });
                }

            }
        </script>
    </div>
</body>
</html>
