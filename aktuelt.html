<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aktuelt</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
</head>

<body>

   <header>
       <img src="" alt="logo">
       <nav>hovedmenu</nav>
   </header>

  <h1 class="overskrift"></h1>
   <main class="nyheder"></main>

<template>
   <section class="nyhed">
   <div class="accordion">
       <h2 class="overskrift"></h2>
       <div class="dato"></div>
    </div>

    <div class="panel">
        <div class="tekst"></div>
        <img src="" alt="">
    </div>
   </section>
    </template>


   <footer>
       <div>kontakt og Ã¥bningstider</div>
       <div>adresse</div>
       <div>some</div>
       <div>presse, sprog, fond</div>
   </footer>

   <script>


    //AKTUELT

let nyheder = [];
document.addEventListener("DOMContentLoaded", start);

function start() {
    async function getJson() {
        let url = "http://lauravillumsen.com/kea/07-cms/kalklandet/wp//wp-json/wp/v2/nyhed"
        let jsonData = await fetch(url);
        nyheder = await jsonData.json();
        visNyheder();
    }

    function visNyheder() {
        let dest = document.querySelector(".nyheder");
        let temp = document.querySelector("template");

        nyheder.forEach(nyhed => {
            let klon = temp.cloneNode(true).content;
            klon.querySelector(".overskrift").innerHTML = nyhed.title.rendered;
            klon.querySelector(".dato").innerHTML = nyhed.dato;
            klon.querySelector(".tekst").innerHTML = nyhed.content.rendered;
            klon.querySelector("img").src = nyhed.billede.guid;
            dest.appendChild(klon);
        })
lavAccordion();

    }
    getJson();
}

function lavAccordion(){
       //accordion
console.log("test");
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
    acc[i].addEventListener("click", function () {
        this.classList.toggle("active");
        var panel = this.nextElementSibling;
        if (panel.style.maxHeight) {
            panel.style.maxHeight = null;
        } else {
            panel.style.maxHeight = panel.scrollHeight + "px";
        }
    });
}

 }

    </script>
</body>

</html>



<!--
   <template>
       <section class="ret">
           <h2></h2>
           <div class="tekst"></div>
           <div class="rettype"></div>
           <img src="" alt="">
           <div class="pris"></div>
       </section>
   </template>
-->

