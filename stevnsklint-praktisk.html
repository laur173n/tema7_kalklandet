<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stevns Klint praktisk</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header>
        <img src="" alt="logo">
        <nav>hovedmenu</nav>


        <nav class="undermenu">
            <a href="stevnsklint-praktisk.html">praktisk info</a>
            <a href="stevnsklint-undervisning.html">undervisning</a>
            <a href="stevnsklint-yderligere-info.html">yderligere viden</a>

        </nav>
    </header>

    <h1 class="overskrift"></h1>
    <main class="indhold"></main>

    <template>
        <section class="indhold">
            <h2 class="overskrift accordion"></h2>
            <div class="tekst panel"></div>
        </section>
    </template>


    <footer>
        <div>kontakt og Ã¥bningstider</div>
        <div>adresse</div>
        <div>some</div>
        <div>presse, sprog, fond</div>
    </footer>

    <script>

        let indhold = [];
        document.addEventListener("DOMContentLoaded", start);

        function start() {
            async function getJson() {
                let url = "http://lauravillumsen.com/kea/07-cms/kalklandet/wp/wp-json/wp/v2/stevnsklint"
                let jsonData = await fetch(url);
                indhold = await jsonData.json();
                visIndhold();
            }

            function visIndhold() {
                let dest = document.querySelector(".indhold");
                let temp = document.querySelector("template");
                indhold.forEach(indhold => {
                    let klon = temp.cloneNode(true).content;
                    klon.querySelector(".overskrift").innerHTML = indhold.title.rendered;
                    klon.querySelector(".tekst").innerHTML = indhold.content.rendered;
                    dest.appendChild(klon);
                })
                lavAccordion();
            }
            getJson();
        }

        function lavAccordion(){
       //accordion
console.log("test");
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
    acc[i].addEventListener("click", function () {
        this.classList.toggle("active");
        var panel = this.nextElementSibling;
        if (panel.style.maxHeight) {
            panel.style.maxHeight = null;
        } else {
            panel.style.maxHeight = panel.scrollHeight + "px";
        }
    });
}

 }
    </script>
</body>
</html>
